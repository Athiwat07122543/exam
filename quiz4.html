<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div style="height: 500px; width: 50%; display: flex;">
        <canvas id="Bar" width="20px"></canvas>
        <canvas id="Pie"></canvas>
    </div>
</body>
<script>
    const bar = document.getElementById('Bar');
    const pie = document.getElementById('Pie');
    function getData() {
        $.ajax({
            url: "https://www.trcloud.co/test/api.php",
            type: 'POST',
            dataType: 'json',
            success: function (res) {
                // console.log(res)
                new Chart(bar, {
                    type: 'bar',
                    data: {
                        labels: res.map((item) => item.City),
                        datasets: [{
                            label: 'Range by Country',
                            data: res.map((item) => item.Population),
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.3)',
                                'rgba(54, 162, 235, 0.3)',
                                'rgba(255, 205, 86, 0.3)',
                                'rgba(75, 192, 192, 0.3)',
                                'rgba(153, 102, 255, 0.3)',
                                'rgba(255, 149, 82, 0.3)',
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 205, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 149, 82, 1)',
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
                new Chart(pie, {
                    type: 'pie',
                    data: {
                        labels: res.map((item) => item.City),
                        datasets: [{
                            label: 'Range by Country',
                            data: res.map((item) => item.Population),
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.3)',
                                'rgba(54, 162, 235, 0.3)',
                                'rgba(255, 205, 86, 0.3)',
                                'rgba(75, 192, 192, 0.3)',
                                'rgba(153, 102, 255, 0.3)',
                                'rgba(255, 149, 82, 0.3)',
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 205, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 149, 82, 1)',
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        })
    }
    getData()
</script>

</html>